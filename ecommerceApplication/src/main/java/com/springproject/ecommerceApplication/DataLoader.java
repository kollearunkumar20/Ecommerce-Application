package com.springproject.ecommerceApplication;

import jakarta.annotation.PostConstruct;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

@Component
public class DataLoader {

    private static final Logger logger = LoggerFactory.getLogger(DataLoader.class);

    @Autowired
    private ProductService productService;

    private final String jsonData = "{\"products\":[{\"name\":\"Wide Bowknot Hat\",\"brand\":\"MAJIK\",\"price\":288,\"id\":1,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/clothes-cap.png\",\"rating\":\"3.6\"},{\"name\":\"Plain Round Neck T-shirt\",\"brand\":\"Huetrap\",\"price\":395,\"id\":2,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/clothes-fit-t-shirt.png\",\"rating\":\"4.1\"},{\"name\":\"Cotton Hoodie\",\"brand\":\"Scott International\",\"price\":498,\"id\":3,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/clothes-hoodie.png\",\"rating\":\"3.8\"},{\"name\":\"Men's Waistcoat\",\"brand\":\"LEVIS\",\"price\":2500,\"id\":4,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/clothes-jacket.png\",\"rating\":\"4.3\"},{\"name\":\"Slim Fit Jeans\",\"brand\":\"LEVIS\",\"price\":1469,\"id\":5,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/clothes-jeans-pants.png\",\"rating\":\"3.1\"},{\"name\":\"Miss Chase Bodycon Dress\",\"brand\":\"LEVIS\",\"price\":974,\"id\":6,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/clothes-modren-net.png\",\"rating\":\"3.8\"},{\"name\":\"Zari Design Kurta\",\"brand\":\"Libas\",\"price\":1869,\"id\":7,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/clothes-punjabi.png\",\"rating\":\"4.4\"},{\"name\":\"Slim Fit Blazer\",\"brand\":\"LEVIS\",\"price\":2599,\"id\":8,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/clothes-purple-jacket.png\",\"rating\":\"4.2\"},{\"name\":\"Animal Printed Shirt\",\"brand\":\"Mufti\",\"price\":1017,\"id\":9,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/clothes-short-sleeves-shirt.png\",\"rating\":\"4\"},{\"name\":\"Polyester Saree\",\"brand\":\"Ahalyaa\",\"price\":419,\"id\":10,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/clothes-side-sareee.png\",\"rating\":\"3.8\"},{\"name\":\"Warm Up Jacket\",\"brand\":\"Monte Carlo\",\"price\":2796,\"id\":11,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/clothes-sim-jacket.png\",\"rating\":\"4.4\"},{\"name\":\"Wrap Dress\",\"brand\":\"Vero Moda\",\"price\":3039,\"id\":12,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/clothes-simple-formal.png\",\"rating\":\"3.2\"},{\"name\":\"Knit Cream Sweater\",\"brand\":\"MansiCollections\",\"price\":996,\"id\":13,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/clothes-stylish-sweater.png\",\"rating\":\"3.2\"},{\"name\":\"Sheer Anarkali\",\"brand\":\"Saadgi\",\"price\":2172,\"id\":14,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/clothes-white-punjabi.png\",\"rating\":\"3.2\"},{\"name\":\"Embellished Maxi Dress\",\"brand\":\"STREET 9\",\"price\":1799,\"id\":15,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/cloths-blue-fork.png\",\"rating\":\"3.2\"},{\"name\":\"Embroidered Net Gown\",\"brand\":\"Manyavar\",\"price\":62990,\"id\":16,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/cloths-long-fork.png\",\"rating\":\"3.2\"},{\"name\":\"Analog Men's Watch\",\"brand\":\"Fastrack\",\"price\":1850,\"id\":25,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/electronics-casual-watch.png\",\"rating\":\"4.2\"},{\"name\":\"Tea Kettle Pot\",\"brand\":\"Indian Art Villa\",\"price\":1685,\"id\":26,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/electronics-copper-kettle.png\",\"rating\":\"3.8\"},{\"name\":\"Aluminium 4 Cup Tea Kettle\",\"brand\":\"Kitchen Expert\",\"price\":399,\"id\":27,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/electronics-kettle.png\",\"rating\":\"4.3\"},{\"name\":\"Tripod Stand\",\"brand\":\"Sketchfab\",\"price\":390,\"id\":28,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/electronics-medium-tripod.png\",\"rating\":\"4.2\"},{\"name\":\"Beard Trimmer\",\"brand\":\"Nova\",\"price\":398,\"id\":29,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/electronics-nova-trimmer.png\",\"rating\":\"4.5\"},{\"name\":\"Nova SuperGroom Multi-kit\",\"brand\":\"Nova\",\"price\":1199,\"id\":30,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/electronics-nover-v2-trimmer.png\",\"rating\":\"4.4\"},{\"name\":\"Privateer Quartz Watch\",\"brand\":\"Fossil\",\"price\":8122,\"id\":31,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/electronics-royal-black-watch.png\",\"rating\":\"4.4\"},{\"name\":\"Chronograph black Watch\",\"brand\":\"Fossil\",\"price\":6395,\"id\":32,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/electronics-royal-watch.png\",\"rating\":\"3.8\"},{\"name\":\"Collider Black Dial Men's Watch\",\"brand\":\"Fossil\",\"price\":14995,\"id\":33,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/electronics-simple-belt-watch.png\",\"rating\":\"4.3\"},{\"name\":\"Neutra Analog Men's Watch\",\"brand\":\"Fossil\",\"price\":10995,\"id\":34,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/electronics-simple-watch.png\",\"rating\":\"4.1\"},{\"name\":\"Maritime Men's Watch\",\"brand\":\"Titan\",\"price\":11999,\"id\":35,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/electronics-tatar-watch.png\",\"rating\":\"4.3\"},{\"name\":\"Handheld Full Body Massager\",\"brand\":\"AGARO REGAL\",\"price\":1299,\"id\":17,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/appliances-body-massager.png\",\"rating\":\"4.3\"},{\"name\":\"True Wireless Earbuds\",\"brand\":\"LG\",\"price\":13499,\"id\":18,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/appliances-ear-buds.png\",\"rating\":\"4.4\"},{\"name\":\"Mixer Grinder\",\"brand\":\"Lifelong\",\"price\":1699,\"id\":19,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/appliances-mixer-grinder.png\",\"rating\":\"3.9\"},{\"name\":\"SilverBullet Mixer Grinder\",\"brand\":\"COOKWELL\",\"price\":1899,\"id\":20,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/appliances-mixer-grinder-white.png\",\"rating\":\"4.1\"},{\"name\":\"PS5 Controller Charger\",\"brand\":\"New World\",\"price\":1749,\"id\":21,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/appliances-ps5-controller.png\",\"rating\":\"3.3\"},{\"name\":\"Podcast Microphone\",\"brand\":\"MAONO\",\"price\":5555,\"id\":22,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/appliances-singing-mike.png\",\"rating\":\"4.4\"},{\"name\":\"Dynamic Microphone\",\"brand\":\"JTS Store\",\"price\":1699,\"id\":23,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/appliances-solo-mike.png\",\"rating\":\"3.9\"},{\"name\":\"Front Load Machine\",\"brand\":\"Samsung\",\"price\":22490,\"id\":24,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/appliances-washing-machine.png\",\"rating\":\"4.5\"},{\"name\":\"Eggs\",\"brand\":\"Naturoz\",\"price\":60,\"id\":36,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/grocery-eggs.png\",\"rating\":\"3.6\"},{\"name\":\"Chilli Extract Sauce\",\"brand\":\"Everin\",\"price\":788,\"id\":37,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/grocery-extract.png\",\"rating\":\"4.1\"},{\"name\":\"Flour Unbleached\",\"brand\":\"TWF Store\",\"price\":200,\"id\":38,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/grocery--flour.png\",\"rating\":\"4.3\"},{\"name\":\"Fresh Produce Green Chilli\",\"brand\":\"Amazon\",\"price\":30,\"id\":39,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/grocery-green-chilli.png\",\"rating\":\"4.2\"},{\"name\":\"Maroon Kumkum \",\"brand\":\"Amazon\",\"price\":200,\"id\":40,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/grocery--kumkum.png\",\"rating\":\"3.9\"},{\"name\":\"Fresh Lemon, 100g\",\"brand\":\"Amazon\",\"price\":50,\"id\":41,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/grocery-lemons.png\",\"rating\":\"4.5\"},{\"name\":\"Virgin Avocado Oil\",\"brand\":\"ProV\",\"price\":4144,\"id\":42,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/grocery-oil.png\",\"rating\":\"4.4\"},{\"name\":\"Basmati Rice\",\"brand\":\"Fortune\",\"price\":244,\"id\":43,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/grocery-rice.png\",\"rating\":\"3.6\"},{\"name\":\"Crystal Sugar\",\"brand\":\"NatureVit\",\"price\":278,\"id\":44,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/grocery-sugar-cubes.png\",\"rating\":\"3.6\"},{\"name\":\"Turmeric Powder\",\"brand\":\"Patanjali\",\"price\":1234,\"id\":45,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/grocery-turmeric.png\",\"rating\":\"2.8\"},{\"name\":\"Batman Batmobile\",\"brand\":\"Funskool\",\"price\":745,\"id\":46,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/toys-batman-toy.png\",\"rating\":\"4.7\"},{\"name\":\"Panda Baby Product\",\"brand\":\"Panda\",\"price\":1399,\"id\":47,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/toys-big-two-wheeler.png\",\"rating\":\"4.3\"},{\"name\":\"Monsters Charm Toy\",\"brand\":\"Trendytap\",\"price\":8600,\"id\":48,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/toys-minnos.png\",\"rating\":\"4.2\"},{\"name\":\"Knitted Rabbit\",\"brand\":\"Ira\",\"price\":620,\"id\":49,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/toys-orange-rabbit.png\",\"rating\":\"4.4\"},{\"name\":\"Bot Robot Toy\",\"brand\":\"WireScorts\",\"price\":355,\"id\":50,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/toys-orange-robot.png\",\"rating\":\"3.8\"},{\"name\":\"Kids Toy Train\",\"brand\":\"FIONA\",\"price\":599,\"id\":51,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/toys-red-train.png\",\"rating\":\"4.1\"},{\"name\":\"Non-Toxic Robot Toys\",\"brand\":\"FunBlast\",\"price\":1545,\"id\":52,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/toys-short-green-robot.png\",\"rating\":\"3.3\"},{\"name\":\"Honey Teddy Bear\",\"brand\":\"Honey\",\"price\":599,\"id\":53,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/toys-simple-teddy.png\",\"rating\":\"4.3\"},{\"name\":\"Nexa Yellow Car\",\"brand\":\"Quinergys\",\"price\":490,\"id\":54,\"imageurl\":\"https://assets.ccbp.in/frontend/react-js/ecommerce/toys-yellow-car.png\",\"rating\":\"4.1\"}],\"total\":54}"; // Paste your JSON data here

    @PostConstruct
    public void init() {
        logger.info("Initializing DataLoader...");
        productService.saveProductsFromJson(jsonData);
    }
}

